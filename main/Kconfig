menu "App: Display Configuration"
    comment "Watchface and UI settings"
    
    config WATCHFACE_UPDATE_INTERVAL_MS
        int "Watchface Update Interval (ms)"
        default 1000
        range 100 5000
        help
            How often to update the watchface display.
            Lower values = smoother updates but higher power consumption.
    
    config DISPLAY_TIMEOUT_MS
        int "Display Timeout (ms)"
        default 15000
        range 5000 300000
        help
            Time before display turns off due to inactivity.
endmenu

menu "App: WiFi Configuration"
    config ENABLE_WIFI
        bool "Enable WiFi functionality"
        default y
        help
            Enable WiFi manager and related UI screens.
            Disable this to save flash/RAM on devices that don't need WiFi.
            When disabled, WiFi menu items and screens won't be compiled.

    config WIFI_AUTO_CONNECT
        bool "Auto-connect to saved network on boot"
        depends on ENABLE_WIFI
        default y
        help
            Automatically connect to saved WiFi credentials on startup.
            If disabled, user must manually connect via settings.
endmenu

menu "App: OTA Update Configuration"
    config ENABLE_OTA
        bool "Enable OTA (Over-The-Air) updates"
        depends on ENABLE_WIFI
        default y
        help
            Enable OTA update functionality for firmware updates.
            Requires WiFi to be enabled. When disabled, OTA update
            UI and functionality won't be compiled.

    config OTA_UPDATE_URL
        string "Default OTA update URL"
        depends on ENABLE_OTA
        default "https://github.com/Asion001/esp32_watch/releases/latest/download/firmware.bin"
        help
            Default URL to check for firmware updates.
            Can be changed at runtime via OTA settings screen.
            Supports HTTP/HTTPS. GitHub releases URL recommended for CI/CD.

    config OTA_AUTO_CHECK
        bool "Automatically check for updates on WiFi connect"
        depends on ENABLE_OTA
        default n
        help
            Automatically check for firmware updates when WiFi connects.
            If update available, user will be notified.

    config OTA_CHECK_INTERVAL_HOURS
        int "Auto-check interval (hours)"
        depends on OTA_AUTO_CHECK
        default 24
        range 1 168
        help
            How often to check for updates when auto-check is enabled.
            Range: 1-168 hours (1 hour to 1 week).

    config OTA_BUFFER_SIZE
        int "OTA download buffer size (bytes)"
        depends on ENABLE_OTA
        default 4096
        range 1024 8192
        help
            Buffer size for OTA downloads.
            Larger values = faster downloads but more RAM usage.
            4096 bytes is a good balance for most use cases.

    config OTA_ENABLE_HTTPS
        bool "Enable HTTPS for OTA updates"
        depends on ENABLE_OTA
        default y
        help
            Enable HTTPS/TLS for secure OTA updates.
            Recommended for production. Requires valid server certificate.

    config OTA_ENABLE_ROLLBACK
        bool "Enable automatic rollback on boot failure"
        depends on ENABLE_OTA
        default y
        help
            Automatically rollback to previous firmware if new version fails to boot.
            Highly recommended for production deployments.
endmenu

menu "App: Logging Configuration"
    comment "Application log verbosity settings"

    choice APP_LOG_LEVEL
        prompt "Default log verbosity"
        default APP_LOG_LEVEL_INFO
        help
            Specify how much output to see in logs by default.
            Note that this setting only affects the main application.
            Each component has its own log level setting.

        config APP_LOG_LEVEL_NONE
            bool "No output"
        config APP_LOG_LEVEL_ERROR
            bool "Error"
        config APP_LOG_LEVEL_WARN
            bool "Warning"
        config APP_LOG_LEVEL_INFO
            bool "Info"
        config APP_LOG_LEVEL_DEBUG
            bool "Debug"
        config APP_LOG_LEVEL_VERBOSE
            bool "Verbose"
    endchoice

    config APP_LOG_LEVEL
        int
        default 0 if APP_LOG_LEVEL_NONE
        default 1 if APP_LOG_LEVEL_ERROR
        default 2 if APP_LOG_LEVEL_WARN
        default 3 if APP_LOG_LEVEL_INFO
        default 4 if APP_LOG_LEVEL_DEBUG
        default 5 if APP_LOG_LEVEL_VERBOSE
endmenu
